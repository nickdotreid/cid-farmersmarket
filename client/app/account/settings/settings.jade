div(ng-include='"components/navbar/navbar.html"')
.container
  .row
    .col-sm-12
      h1 Contact Info
    
    .col-sm-12
      form.form(name='contactInfoForm', ng-submit='changeContactInfo(contactInfoForm)', novalidate='', ng-controller='SettingsCtrl', class='form-horizontal')
    
        div(ng-repeat='field in fields', ng-init='capField=capitalize(field)')
          .form-group
            label(for='field{{capField}}', class='col-sm-2', control-label) {{capField}}
            .col-sm-4
              input(type='text', class='form-control', id='field{{capField}}', name='{{field}}' ng-model='contactInfo[field]')
                
        .form-group
          .col-sm-offset-2.col-sm-4
            button.btn.btn-lg.btn-primary(type='submit') Save changes

  .row
    .col-sm-12
      h1 Change Password
    
    .col-sm-12
      form.form(name='form', class='form-horizontal', ng-submit='changePassword(form)', novalidate='')
        .form-group
          label(class='col-sm-2') Current Password
          .col-sm-4
            input.form-control(type='password', name='password', ng-model='user.oldPassword', mongoose-error='')
          
          p.help-block(ng-show='form.password.$error.mongoose')
            | {{ errors.other }}
    
        .form-group
          label(class='col-sm-2') New Password
          .col-sm-4
            input.form-control(type='password', name='newPassword', ng-model='user.newPassword', ng-minlength='3', required='')
    
          p.help-block(ng-show='(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)')
            | Password must be at least 3 characters.

        p.help-block  {{ message }}

        .form-group
          .col-sm-offset-2.col-sm-4
            button.btn.btn-lg.btn-primary(type='submit') Save changes
